{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["const form = document.querySelector('form');\n\nconst keyLink = 'feedback-form-state';\n\nform.addEventListener('input', event => {\n  const email = event.currentTarget.elements.email.value.trim();\n  const message = event.currentTarget.elements.message.value.trim();\n\n  const userData = { email: email.value, message: message.value };\n\n  saveToLS(keyLink, userData);\n});\n\nfunction init(key) {\n  const data = loadFromLS(key);\n  form.elements.email.value = data?.email || '';\n  form.elements.message.value = data?.message || '';\n}\n\ninit(keyLink);\n\nfunction loadFromLS(key) {\n  const data = localStorage.getItem(key);\n  try {\n    return JSON.parse(data);\n  } catch {\n    return data;\n  }\n}\n\nfunction saveToLS(key, value) {\n  const json = JSON.stringify(value);\n  localStorage.setItem(key, json);\n}\n\nform.addEventListener('submit', event => {\n  event.preventDefault();\n  const { email, message } = event.target.elements;\n  if (!email.value || !message.value) {\n    return alert('form fields must be filled');\n  }\n  const userData = { email: email.value, message: message.value };\n  console.log(userData);\n  event.target.reset();\n\n  localStorage.removeItem(keyLink);\n});"],"names":["form","keyLink","event","email","message","userData","saveToLS","init","key","data","loadFromLS","value","json"],"mappings":"wFAAA,MAAMA,EAAO,SAAS,cAAc,MAAM,EAEpCC,EAAU,sBAEhBD,EAAK,iBAAiB,QAASE,GAAS,CACtC,MAAMC,EAAQD,EAAM,cAAc,SAAS,MAAM,MAAM,OACjDE,EAAUF,EAAM,cAAc,SAAS,QAAQ,MAAM,OAErDG,EAAW,CAAE,MAAOF,EAAM,MAAO,QAASC,EAAQ,OAExDE,EAASL,EAASI,CAAQ,CAC5B,CAAC,EAED,SAASE,EAAKC,EAAK,CACjB,MAAMC,EAAOC,EAAWF,CAAG,EAC3BR,EAAK,SAAS,MAAM,OAAQS,GAAA,YAAAA,EAAM,QAAS,GAC3CT,EAAK,SAAS,QAAQ,OAAQS,GAAA,YAAAA,EAAM,UAAW,EACjD,CAEAF,EAAKN,CAAO,EAEZ,SAASS,EAAWF,EAAK,CACvB,MAAMC,EAAO,aAAa,QAAQD,CAAG,EACrC,GAAI,CACF,OAAO,KAAK,MAAMC,CAAI,CAC1B,MAAU,CACN,OAAOA,CACR,CACH,CAEA,SAASH,EAASE,EAAKG,EAAO,CAC5B,MAAMC,EAAO,KAAK,UAAUD,CAAK,EACjC,aAAa,QAAQH,EAAKI,CAAI,CAChC,CAEAZ,EAAK,iBAAiB,SAAUE,GAAS,CACvCA,EAAM,eAAc,EACpB,KAAM,CAAE,MAAAC,EAAO,QAAAC,CAAO,EAAKF,EAAM,OAAO,SACxC,GAAI,CAACC,EAAM,OAAS,CAACC,EAAQ,MAC3B,OAAO,MAAM,4BAA4B,EAE3C,MAAMC,EAAW,CAAE,MAAOF,EAAM,MAAO,QAASC,EAAQ,OACxD,QAAQ,IAAIC,CAAQ,EACpBH,EAAM,OAAO,QAEb,aAAa,WAAWD,CAAO,CACjC,CAAC"}